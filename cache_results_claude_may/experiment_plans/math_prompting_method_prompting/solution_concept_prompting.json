{
    "topic_description": "novel prompting methods for large language models to improve mathematical problem solving",
    "idea_name": "Solution Concept Prompting",
    "raw_idea": {
        "Problem": "Large language models can solve many math problems step-by-step, but often fail to provide high-level explanations of the key solution concepts involved, which is crucial for demonstrating a deeper understanding of the problem.",
        "Existing Methods": "Methods like Chain-of-Thought prompting generate step-by-step solutions, but do not explicitly elicit higher-level conceptual explanations.",
        "Motivation": "When humans solve complex math problems, they often rely on identifying the key solution concepts needed, such as applying a specific theorem, formula or technique. Prompting LLMs to first explain the high-level solution concepts before diving into step-by-step details could lead to more reliable and interpretable problem-solving.",
        "Proposed Method": "We introduce Solution Concept Prompting (SCP), a two-stage prompting approach: 1) Given a math problem, prompt the LLM to identify and explain the key mathematical concepts, theorems, or techniques needed to solve the problem, without providing the actual solution. 2) Prompt the LLM to provide a step-by-step solution to the problem, guided by the high-level solution concepts generated in the first stage.",
        "Experiment Plan": "Evaluate SCP on math problem benchmarks that require complex reasoning, such as MATH and MathQA. Compare with baselines like Chain-of-Thought prompting. Conduct human evaluations to assess the quality and interpretability of the generated solution concepts."
    },
    "full_experiment_plan": {
        "Title": "Solution Concept Prompting: Eliciting High-Level Explanations for Improved Mathematical Problem Solving in Large Language Models",
        "Problem Statement": "Large language models can solve many math problems step-by-step, but often fail to provide high-level explanations of the key solution concepts involved, which is crucial for demonstrating a deeper understanding of the problem.",
        "Motivation": "Existing methods like Chain-of-Thought prompting generate step-by-step solutions, but do not explicitly elicit higher-level conceptual explanations. When humans solve complex math problems, they often rely on identifying the key solution concepts needed, such as applying a specific theorem, formula or technique. Prompting LLMs to first explain the high-level solution concepts before diving into step-by-step details could lead to more reliable and interpretable problem-solving.",
        "Proposed Method": "We introduce Solution Concept Prompting (SCP), a two-stage prompting approach: 1) Given a math problem, prompt the LLM to identify and explain the key mathematical concepts, theorems, or techniques needed to solve the problem, without providing the actual solution. 2) Prompt the LLM to provide a step-by-step solution to the problem, guided by the high-level solution concepts generated in the first stage.",
        "Step-by-Step Experiment Plan": {
            "Step 1: Gather Datasets": "Evaluate SCP on math problem benchmarks that require complex reasoning, such as MATH and MathQA. These datasets contain problems from various mathematical domains like algebra, calculus, geometry, probability, etc.",
            "Step 2: Construct Prompts": "We compare SCP with two baselines: 1) Direct prompting: prompt the model with the math problem directly. 2) Chain-of-Thought (CoT) prompting: append \"Let's solve this step-by-step:\" to the math problem.\nFor SCP, in the first stage, we prompt the model with: \"Identify the key mathematical concepts, theorems, or techniques needed to solve this problem. Explain each one briefly, but do not actually solve the problem:\". Then in the second stage, we prompt the model with: \"Using the concepts you just described, now provide a step-by-step solution to the problem:\".",
            "Step 3: Select Models": "We test SCP on GPT-3.5 (text-davinci-003), GPT-4, and the open-source LLaMA model finetuned on mathematical instructions.",
            "Step 4: Get Results": "For each problem in the datasets, obtain the model's predictions using direct prompting, CoT prompting, and SCP. For SCP, record both the generated solution concepts and the final step-by-step solution.",
            "Step 5: Analyze Results": "Evaluate the accuracy of the final solutions for each prompting method. Also, qualitatively analyze the generated solution concepts from SCP to assess their relevance and completeness. Conduct human evaluations where mathematicians rate the quality and interpretability of the solution concepts and step-by-step solutions."
        },
        "Test Case Examples": {
            "Example 1": {
                "Problem": "Find all values of x where the line 3x + 2y = 6 intersects the parabola y = x^2.",
                "Baseline Prompt Input (Direct)": "Find all values of x where the line 3x + 2y = 6 intersects the parabola y = x^2.",
                "Baseline Prompt Output (Direct)": "To find the intersection points, we need to solve the system of equations:\n3x + 2y = 6\ny = x^2\nSubstituting the second equation into the first:\n3x + 2(x^2) = 6\n3x + 2x^2 - 6 = 0\n2x^2 + 3x - 6 = 0\nThis is a quadratic equation. Using the quadratic formula, we get:\nx = [-3 \u00b1 \u221a(3^2 - 4*2*-6)] / (2*2)\nx = [-3 \u00b1 \u221a(57)] / 4\nSo the line intersects the parabola at two points.",
                "Baseline Prompt Input (CoT)": "Find all values of x where the line 3x + 2y = 6 intersects the parabola y = x^2. Let's solve this step-by-step:",
                "Baseline Prompt Output (CoT)": "Step 1: Recognize that we need to find the intersection points of the line and the parabola. This means we need to solve the system of equations formed by the line and parabola equations.\nStep 2: The line equation is 3x + 2y = 6. The parabola equation is y = x^2. \nStep 3: Substitute the parabola equation into the line equation:\n3x + 2(x^2) = 6\nStep 4: Simplify:\n3x + 2x^2 = 6\n2x^2 + 3x - 6 = 0\nStep 5: This is a quadratic equation. To solve it, use the quadratic formula:\nx = [-b \u00b1 \u221a(b^2 - 4ac)] / 2a\nwhere a = 2, b = 3, c = -6\nStep 6: Substitute the values into the quadratic formula:\nx = [-3 \u00b1 \u221a(3^2 - 4*2*-6)] / (2*2)\nx = [-3 \u00b1 \u221a(9 + 48)] / 4\nx = [-3 \u00b1 \u221a(57)] / 4\nStep 7: Simplify:\nx = [-3 + \u221a57] / 4  or  x = [-3 - \u221a57] / 4\nTherefore, the line intersects the parabola at two points, with x-coordinates [-3 + \u221a57] / 4 and [-3 - \u221a57] / 4.",
                "SCP Prompt Input (Stage 1)": "Find all values of x where the line 3x + 2y = 6 intersects the parabola y = x^2.\nIdentify the key mathematical concepts, theorems, or techniques needed to solve this problem. Explain each one briefly, but do not actually solve the problem:",
                "SCP Prompt Output (Stage 1)": "1. System of equations: The problem involves finding the intersection points of a line and a parabola. This requires solving a system of equations formed by setting the two equations equal to each other.\n2. Substitution: One way to solve a system of equations is by substituting one equation into the other. Here, we can substitute the parabola equation y = x^2 into the line equation 3x + 2y = 6.\n3. Quadratic equation: After substitution, we will get a quadratic equation in the form ax^2 + bx + c = 0. Quadratic equations have two solutions for x.\n4. Quadratic formula: The quadratic formula x = [-b \u00b1 \u221a(b^2 - 4ac)] / 2a is used to solve quadratic equations. It gives the values of x that satisfy the equation.",
                "SCP Prompt Input (Stage 2)": "Using the concepts you just described, now provide a step-by-step solution to the problem:\nFind all values of x where the line 3x + 2y = 6 intersects the parabola y = x^2.",
                "SCP Prompt Output (Stage 2)": "Step 1: Set up the system of equations using the line and parabola equations:\n3x + 2y = 6\ny = x^2\nStep 2: Substitute the parabola equation y = x^2 into the line equation:\n3x + 2(x^2) = 6\nStep 3: Simplify the equation:\n3x + 2x^2 = 6\n2x^2 + 3x - 6 = 0\nStep 4: Use the quadratic formula to solve for x:\nx = [-b \u00b1 \u221a(b^2 - 4ac)] / 2a\nwhere a = 2, b = 3, c = -6\nx = [-3 \u00b1 \u221a(3^2 - 4*2*-6)] / (2*2)\nx = [-3 \u00b1 \u221a(9 + 48)] / 4\nx = [-3 \u00b1 \u221a57] / 4\nStep 5: Simplify the solutions:\nx = [-3 + \u221a57] / 4  or  x = [-3 - \u221a57] / 4\nTherefore, the line intersects the parabola at two points with x-coordinates [-3 + \u221a57] / 4 and [-3 - \u221a57] / 4.",
                "Explanation": "The baseline methods jump straight into solving the problem without first identifying the key concepts involved. In contrast, SCP first elicits the relevant mathematical concepts like systems of equations, substitution, quadratic equations, and the quadratic formula. This provides a helpful roadmap before diving into the step-by-step solution. The concepts generated by SCP are highly relevant and capture the essential techniques needed to solve this problem."
            },
            "Example 2": {
                "Problem": "A bag contains 6 red marbles, 4 blue marbles, and 8 green marbles. If a marble is randomly selected from the bag, what is the probability that it is not green?",
                "Baseline Prompt Input (Direct)": "A bag contains 6 red marbles, 4 blue marbles, and 8 green marbles. If a marble is randomly selected from the bag, what is the probability that it is not green?",
                "Baseline Prompt Output (Direct)": "There are 6 + 4 + 8 = 18 marbles in total. The probability of not selecting a green marble is the number of non-green marbles divided by the total number of marbles. There are 6 red and 4 blue marbles, so 10 non-green marbles. Therefore, the probability of not selecting a green marble is 10/18 = 5/9.",
                "Baseline Prompt Input (CoT)": "A bag contains 6 red marbles, 4 blue marbles, and 8 green marbles. If a marble is randomly selected from the bag, what is the probability that it is not green? Let's solve this step-by-step:",
                "Baseline Prompt Output (CoT)": "Step 1: Identify the total number of marbles.\nRed marbles: 6\nBlue marbles: 4\nGreen marbles: 8\nTotal marbles = 6 + 4 + 8 = 18\nStep 2: Identify the number of ways to select a non-green marble.\nNon-green marbles = Red marbles + Blue marbles\nNon-green marbles = 6 + 4 = 10\nStep 3: Calculate the probability of selecting a non-green marble.\nP(not green) = Number of non-green marbles / Total number of marbles\nP(not green) = 10 / 18\nP(not green) = 5 / 9\nTherefore, the probability of selecting a marble that is not green is 5/9.",
                "SCP Prompt Input (Stage 1)": "A bag contains 6 red marbles, 4 blue marbles, and 8 green marbles. If a marble is randomly selected from the bag, what is the probability that it is not green?\nIdentify the key mathematical concepts, theorems, or techniques needed to solve this problem. Explain each one briefly, but do not actually solve the problem:",
                "SCP Prompt Output (Stage 1)": "1. Probability: Probability is a measure of the likelihood that an event will occur. It is calculated by dividing the number of favorable outcomes by the total number of possible outcomes.\n2. Complementary events: Two events are complementary if they are mutually exclusive (they cannot happen at the same time) and their probabilities add up to 1. In this problem, selecting a green marble and not selecting a green marble are complementary events.\n3. Counting: To calculate probabilities, we need to count the number of favorable outcomes and the total number of possible outcomes. Here, we need to count the total number of marbles and the number of non-green marbles.",
                "SCP Prompt Input (Stage 2)": "Using the concepts you just described, now provide a step-by-step solution to the problem:\nA bag contains 6 red marbles, 4 blue marbles, and 8 green marbles. If a marble is randomly selected from the bag, what is the probability that it is not green?",
                "SCP Prompt Output (Stage 2)": "Step 1: Count the total number of marbles.\nTotal marbles = Red marbles + Blue marbles + Green marbles\nTotal marbles = 6 + 4 + 8 = 18\nStep 2: Count the number of non-green marbles.\nNon-green marbles = Red marbles + Blue marbles\nNon-green marbles = 6 + 4 = 10\nStep 3: Calculate the probability of selecting a non-green marble using the probability formula.\nP(not green) = Number of favorable outcomes / Total number of possible outcomes\nP(not green) = Number of non-green marbles / Total number of marbles\nP(not green) = 10 / 18\nP(not green) = 5 / 9\nTherefore, the probability of selecting a marble that is not green is 5/9.",
                "Explanation": "The baseline methods dive straight into solving the problem, while SCP first identifies the key concepts of probability, complementary events, and counting. These concepts provide a clear framework for approaching the problem. The step-by-step solution in SCP is then guided by these concepts, leading to a more structured and explanatory solution."
            }
        },
        "Fallback Plan": "If SCP does not outperform the baselines, we can conduct additional analysis to understand why. Some ideas:\n1. Analyze the quality and relevance of the generated solution concepts. Are they capturing the key ideas needed to solve the problem? If not, we may need to refine the prompts to elicit better concepts.\n2. Examine the step-by-step solutions. Are they properly guided by the solution concepts? If not, the second-stage prompt may need improvement to better incorporate the concepts.\n3. Look at the types of problems where SCP underperforms. Are there certain mathematical domains or problem structures that are particularly challenging? This could inform future prompt engineering.\n4. Conduct error analysis on the failed examples to identify common failure modes. This could reveal limitations of the approach or areas for improvement.\n5. Experiment with alternative prompting strategies for eliciting solution concepts, such as using a multi-step dialog or providing examples of good solution concepts.\nIf SCP still underperforms after these analyses, we could pivot the project to focus on understanding the limitations of eliciting high-level explanations from LLMs and proposing alternative approaches. The insights gained from the SCP experiments could form the basis for a more analytical paper."
    }
}